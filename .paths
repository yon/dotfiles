[ -n "${DEBUG}" ] && echo ">>> $(basename "$0")"

# Build PATH from candidates (only if directory exists and is executable)
PATH=""
for p in \
    "${HOME}/bin" \
    "${HOME}/.local/bin" \
    "/opt/homebrew/bin" \
    "/opt/homebrew/sbin" \
    "/opt/local/bin" \
    "/opt/local/sbin" \
    "/usr/local/bin" \
    "/usr/local/sbin" \
    "/Applications/Obsidian.app/Contents/MacOS" \
    "/usr/bin" \
    "/usr/sbin" \
    "/usr/libexec" \
    "/bin" \
    "/sbin"
do
    [ -d "$p" ] && PATH="${PATH:+$PATH:}$p"
done
export PATH

# Google Cloud SDK
if [ -f '/opt/homebrew/share/google-cloud-sdk/path.zsh.inc' ]; then
    . '/opt/homebrew/share/google-cloud-sdk/path.zsh.inc'
fi

# Homebrew zsh completions (only in zsh)
if [ -n "$ZSH_VERSION" ] && command -v brew >/dev/null 2>&1; then
    FPATH="$(brew --prefix)/share/zsh/site-functions:${FPATH}"
fi

[ -n "${DEBUG}" ] && echo "<<< $(basename "$0")"
:
