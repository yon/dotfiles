[ -n "${DEBUG}" ] && echo "... starting .functions";

function d() { sdiff -w 160 $1 $2 | less; }

function gilt_gerrit_clone() {
    git clone --recursive "ssh://gerrit.gilt.com:29418/${1}.git" && \
        pushd ${1} && \
        /web/tools/bin/install-hooks && \
        git config user.email "yfeldman@gilt.com" && \
        git config rerere.enabled true && \
        popd
}

function gilt_github_clone() {
    git clone --recursive "git@github.com:gilt/${1}.git" && \
        pushd ${1} && \
        git config user.email "yfeldman@gilt.com" && \
        git config rerere.enabled true && \
        popd
}

function getHostname() { echo `hostname | cut -d. -f1`; }

function getTTY() { echo `tty | sed 's@/dev/@@'`; }

if [ -z "${XSESSION}" ]
then
    function logout() { end_session && exit; }
else
    function logout() { kill -HUP ${XSESSION} && exit; }
fi

function pman() { man -t "$@" | open -f -a Preview; }

function renameXterm() { renameXwindow "`getHostname` `getTTY`"; }

function renameXwindow() {
    echo -ne "\033]2;$1\007";
    echo -ne "\033]0;$1\077";
}

function setenv() { export ${1}=${2}; }

function xresize() { set -f; eval "$( resize -u )"; set +f; }

[ -n "${DEBUG}" ] && echo "... ending .functions";
